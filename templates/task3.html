{% extends 'layout.html' %}

{% block head %}
<script src="https://cdn.rawgit.com/konvajs/konva/2.4.0/konva.min.js"></script>
{% endblock %}

{% block body %}
<div class="main main-raised mt-4">
  <div>
    <br>
    <div class="header text-center">
      <h3 class="title">Task 3/5</h3>
    </div>


    <!-- <div class="card">
            <div id="container" style="background-image:
                url(https://storage.googleapis.com/geovision-site/Picture3.png);
                background-repeat: no-repeat;
                background-size: auto;"
                height="100%">
            </div>
        </div> -->
    <div class="container">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Card title</h4>
          <p>You can now analyze the outcrop with the PIXL instrument!</p>
          <p>Step 1: Think about which XRF experiments you need on the
            image to
            best examine your target(s). Select only
            up to <strong>240 min</strong> of PIXL experiments.</p>
          <p>Step 2: Place your PIXL experiments on the image.</p>
          <p>Step 3: Number them by priority (relevance)</p>
        </div>
        <div id="container">
          <img class="card-img-bottom" src="https://storage.googleapis.com/geovision-site/Picture3.png" alt="Card image cap">
        </div>
      </div>

      <script>
        var width = window.innerWidth;
        var height = window.innerHeight;

        var stage = new Konva.Stage({
          container: 'container',
          width: width,
          height: height
        });

        var layer = new Konva.Layer();
        var rectX = stage.getWidth() / 2 + 200;
        var rectY = stage.getHeight() / 2 - 300;


        var box = new Konva.Rect({
          x: rectX,
          y: rectY,
          width: 50,
          height: 50,
          fill: 'yellow',
          draggable: true
        });

        var box2 = new Konva.Rect({
          x: rectX,
          y: rectY + 65,
          width: 50,
          height: 50,
          fill: 'yellow',
          draggable: true
        });

        var box3 = new Konva.Rect({
          x: rectX,
          y: rectY + 65 + 65,
          width: 50,
          height: 50,
          fill: 'yellow',
          draggable: true
        });

        var box4 = new Konva.Rect({
          x: rectX,
          y: rectY + 65 + 65 + 65,
          width: 50,
          height: 50,
          fill: 'yellow',
          draggable: true
        });

        // add cursor styling
        box.on('mouseover', function () {
          document.body.style.cursor = 'pointer';
        });
        box.on('mouseout', function () {
          document.body.style.cursor = 'default';
        });

        // add cursor styling
        box2.on('mouseover', function () {
          document.body.style.cursor = 'pointer';
        });
        box2.on('mouseout', function () {
          document.body.style.cursor = 'default';
        });

        // add cursor styling
        box3.on('mouseover', function () {
          document.body.style.cursor = 'pointer';
        });
        box3.on('mouseout', function () {
          document.body.style.cursor = 'default';
        });

        // add cursor styling
        box4.on('mouseover', function () {
          document.body.style.cursor = 'pointer';
        });
        box4.on('mouseout', function () {
          document.body.style.cursor = 'default';
        });


        layer.add(box);
        layer.add(box2);
        layer.add(box3);
        layer.add(box4);
        stage.add(layer);
      </script>
      <br><br>
      <a href="{{ url_for('task3') }}" class="btn btn-danger item
                pull-right">Reset</a>
      <a href="{{ url_for('task4') }}" class="btn btn-primary item
                pull-right">Proceed</a>
      <br><br><br>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/interactjs@1.3/dist/interact.min.js"></script>
  {% include 'includes/_footer.html' %}
  {% endblock %}